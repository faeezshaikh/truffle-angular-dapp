


<ion-view view-title="Packages For Delivery">

   <ion-nav-buttons side="right">
      <button class="button" ng-click="balanceClicked()">
          Balance: <strong><i class="fa fa-diamond" aria-hidden="true"></i>&nbsp {{getBalance() | number:2}} </strong>
      </button>
    </ion-nav-buttons>

  <ion-content delegate-handle="packagesPage">

  <div class="bar bar-header item-input-inset">
      <label class="item-input-wrapper">
        <i class="icon ion-ios-search placeholder-icon"></i>
        <input  type="search" placeholder="Search" ng-model="searchText">
      </label>
      <!--<button  class="button button-icon ion-android-cancel" style="color:white;" ng-click="searchText=''"></button>-->
      	
      &nbsp;	<span style="color:#660099;">({{ filtered.length}})</span>
        
    </div>
      <!--<div class="item  item-default" style="background-color:#ff6600;color:white;text-align:center;">
     Available Sending Requests:
      </div>-->


<ion-list class="list" can-swipe="true">
 
    <ion-item  class="item item-thumbnail-left item-icon-right " ng-hide="package.hidden" ng-repeat="package in filtered = (packages | filter:searchText | orderBy:'id')" href="#/app/packages/{{package.id}}">
      <img src="{{package.img}}">
      <span class="badge badge-assertive" ng-show="package.status == 'In Transit'">In Transit</span> 
      <span class="badge badge-balanced" ng-show="package.status == 'Delivered'">Delivered</span> 
      <h2>Destination: {{package.receiverAddr}}</h2>
      <p>Pickup: {{package.senderAddr}}</p>
      <p>Sender: {{package.senderPhone}} <i class="ion-ios-telephone-outline" style="color:blueviolet;"></i></p>
      <p>Reward: <i class="fa fa-diamond" aria-hidden="true"></i>&nbsp;{{package.gems}} / <i class="ion-social-usd"></i>&nbsp;{{package.gems/10 | number:2}} &nbsp;<i ng-show="{{package.gems>50}}" class="ion-fireball" style="color:red;"></i></p>
      <p>Distance: <i class="ion-ios-navigate-outline"></i>&nbsp;{{package.miles}} miles away</p>
        <i class="icon ion-chevron-right icon-accessory"></i>

        <ion-option-button class="button-balanced" ng-click="foo(district); clicked=!clicked;"><i ng-class="clicked ? 'icon ion-ios-heart-outline' : 'icon ion-heart'"></i></ion-option-button>
         <ion-option-button class="button-assertive " ng-click="delete(package)"><i class="icon ion-trash-a"></i></ion-option-button>
    </ion-item >
</ion-list>
  </ion-content>
  <div style="text-align:center;">
    <button class="button button-float" ng-click="openComposer()">
	        <i class="icon ion-plus"></i>
	  </button>
    </div>
</ion-view>
